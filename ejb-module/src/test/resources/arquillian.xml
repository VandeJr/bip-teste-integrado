<arquillian xmlns="http://jboss.org/schema/arquillian"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://jboss.org/schema/arquillian http://jboss.org/schema/arquillian/arquillian_1_0.xsd">
    
    <container qualifier="wildfly-embedded" default="true">
        <configuration>
            
            <property name="javaVmArguments">--enable-preview</property>

            <property name="setupCommands">
                data-source add \
                    --name=ExampleDS \
                    --jndi-name=java:jboss/datasources/ExampleDS \
                    --driver-name=h2 \
                    --connection-url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1 \
                    --user-name=sa \
                    --password=sa
            </property>
            
            <property name="cleanupCommands">
                data-source remove --name=ExampleDS
            </property>
        </configuration>
    </container>
</arquillian>
